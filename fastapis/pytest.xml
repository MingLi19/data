<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="2" skipped="0" tests="24" time="1.215" timestamp="2025-01-15T12:18:47.616472+00:00" hostname="fv-az1267-812"><testcase classname="tests.test_company_crud" name="test_read_companies" time="0.196" /><testcase classname="tests.test_company_crud" name="test_read_company" time="0.026" /><testcase classname="tests.test_company_crud" name="test_read_company_not_found" time="0.022" /><testcase classname="tests.test_company_crud" name="test_create_company" time="0.028" /><testcase classname="tests.test_company_crud" name="test_create_company_duplicate" time="0.026" /><testcase classname="tests.test_company_crud" name="test_update_company" time="0.031" /><testcase classname="tests.test_company_crud" name="test_delete_company" time="0.037" /><testcase classname="tests.test_meta_r" name="test_read_fuel_types" time="0.026" /><testcase classname="tests.test_meta_r" name="test_read_ship_types" time="0.026" /><testcase classname="tests.test_meta_r" name="test_read_time_zones" time="0.025" /><testcase classname="tests.test_upload_cr" name="test_read_vessel_data_upload_history" time="0.034" /><testcase classname="tests.test_upload_cr" name="test_upload_orginal_zip" time="0.039" /><testcase classname="tests.test_user_crud" name="test_read_users" time="0.028" /><testcase classname="tests.test_user_crud" name="test_read_user" time="0.028" /><testcase classname="tests.test_user_crud" name="test_read_user_not_found" time="0.025" /><testcase classname="tests.test_user_crud" name="test_create_user" time="0.034" /><testcase classname="tests.test_user_crud" name="test_update_user" time="0.033" /><testcase classname="tests.test_user_crud" name="test_delete_user" time="0.031" /><testcase classname="tests.test_vessel_crud" name="test_read_vessels" time="0.030" /><testcase classname="tests.test_vessel_crud" name="test_read_vessel" time="0.036" /><testcase classname="tests.test_vessel_crud" name="test_read_vessel_not_found" time="0.022"><failure message="KeyError: 'detail'">client = &lt;starlette.testclient.TestClient object at 0x7f47b17c1fd0&gt;

    def test_read_vessel_not_found(client: TestClient):
        response = client.get("/vessel/2")
        assert response.status_code == 404
&gt;       assert response.json()["detail"] == "船舶不存在"
E       KeyError: 'detail'

tests/test_vessel_crud.py:72: KeyError</failure></testcase><testcase classname="tests.test_vessel_crud" name="test_create_vessel" time="0.056" /><testcase classname="tests.test_vessel_crud" name="test_update_vessel" time="0.054" /><testcase classname="tests.test_vessel_crud" name="test_delete_vessel" time="0.037"><failure message="KeyError: 'detail'">client = &lt;starlette.testclient.TestClient object at 0x7f47b2a16890&gt;
setup = None

    def test_delete_vessel(client: TestClient, setup):
        response = client.delete("/vessel/1").json()
        code = response["code"]
        message = response["message"]
        assert code == 200
        assert message == "船舶删除成功"
    
        not_found_response = client.get("/vessel/1")
        assert not_found_response.status_code == 404
&gt;       assert not_found_response.json()["detail"] == "船舶不存在"
E       KeyError: 'detail'

tests/test_vessel_crud.py:170: KeyError</failure></testcase></testsuite></testsuites>