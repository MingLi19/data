<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="22" time="1.509" timestamp="2025-01-11T12:37:59.515858+00:00" hostname="fv-az1940-69"><testcase classname="tests.test_company_crud" name="test_read_companies" time="0.218" /><testcase classname="tests.test_company_crud" name="test_read_company" time="0.018" /><testcase classname="tests.test_company_crud" name="test_read_company_not_found" time="0.014" /><testcase classname="tests.test_company_crud" name="test_create_company" time="0.020" /><testcase classname="tests.test_company_crud" name="test_create_company_duplicate" time="0.017" /><testcase classname="tests.test_company_crud" name="test_update_company" time="0.024" /><testcase classname="tests.test_company_crud" name="test_delete_company" time="0.030" /><testcase classname="tests.test_meta_r" name="test_read_fuel_types" time="0.018" /><testcase classname="tests.test_meta_r" name="test_read_ship_types" time="0.018" /><testcase classname="tests.test_meta_r" name="test_read_time_zones" time="0.018" /><testcase classname="tests.test_user_crud" name="test_read_users" time="0.019" /><testcase classname="tests.test_user_crud" name="test_read_user" time="0.020" /><testcase classname="tests.test_user_crud" name="test_read_user_not_found" time="0.014" /><testcase classname="tests.test_user_crud" name="test_create_user" time="0.027" /><testcase classname="tests.test_user_crud" name="test_update_user" time="0.024" /><testcase classname="tests.test_user_crud" name="test_delete_user" time="0.025" /><testcase classname="tests.test_vessel_crud" name="test_read_vessels" time="0.021" /><testcase classname="tests.test_vessel_crud" name="test_read_vessel" time="0.028" /><testcase classname="tests.test_vessel_crud" name="test_read_vessel_not_found" time="0.014" /><testcase classname="tests.test_vessel_crud" name="test_create_vessel" time="0.049" /><testcase classname="tests.test_vessel_crud" name="test_update_vessel" time="0.040" /><testcase classname="tests.test_vessel_crud" name="test_delete_vessel" time="0.025"><failure message="fastapi.exceptions.ResponseValidationError: 3 validation errors:&#10;  {'type': 'get_attribute_error', 'loc': ('response', 'data', 'company'), 'msg': &quot;Error extracting attribute: DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'company' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)&quot;, 'input': Vessel(dead_weight=2.0, time_zone_id=1, new_vessel=True, created_at=datetime.datetime(2025, 1, 11, 12, 38, 0, 333933), hull_clean_date='2024-12-06', id=1, engine_overhaul_date='2024-12-06', name='船名', newly_paint_date='2024-12-06', mmsi='1', propeller_polish_date='2024-12-06', build_date='2024-12-06', company_id=1, gross_tone=1.0, ship_type_id=1), 'ctx': {'error': &quot;DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'company' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)&quot;}}&#10;  {'type': 'get_attribute_error', 'loc': ('response', 'data', 'ship_type'), 'msg': &quot;Error extracting attribute: DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'ship_type' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)&quot;, 'input': Vessel(dead_weight=2.0, time_zone_id=1, new_vessel=True, created_at=datetime.datetime(2025, 1, 11, 12, 38, 0, 333933), hull_clean_date='2024-12-06', id=1, engine_overhaul_date='2024-12-06', name='船名', newly_paint_date='2024-12-06', mmsi='1', propeller_polish_date='2024-12-06', build_date='2024-12-06', company_id=1, gross_tone=1.0, ship_type_id=1), 'ctx': {'error': &quot;DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'ship_type' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)&quot;}}&#10;  {'type': 'get_attribute_error', 'loc': ('response', 'data', 'time_zone'), 'msg': &quot;Error extracting attribute: DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'time_zone' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)&quot;, 'input': Vessel(dead_weight=2.0, time_zone_id=1, new_vessel=True, created_at=datetime.datetime(2025, 1, 11, 12, 38, 0, 333933), hull_clean_date='2024-12-06', id=1, engine_overhaul_date='2024-12-06', name='船名', newly_paint_date='2024-12-06', mmsi='1', propeller_polish_date='2024-12-06', build_date='2024-12-06', company_id=1, gross_tone=1.0, ship_type_id=1), 'ctx': {'error': &quot;DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'time_zone' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)&quot;}}">client = &lt;starlette.testclient.TestClient object at 0x7f0af3b666d0&gt;
setup = None

    def test_delete_vessel(client: TestClient, setup):
&gt;       response = client.delete("/vessel/1").json()

tests/test_vessel_crud.py:130: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/testclient.py:688: in delete
    return super().delete(
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/httpx/_client.py:1264: in delete
    return self.request(
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/testclient.py:484: in request
    return super().request(
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/httpx/_client.py:837: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/httpx/_client.py:926: in send
    response = self._send_handling_auth(
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/httpx/_client.py:954: in _send_handling_auth
    response = self._send_handling_redirects(
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/httpx/_client.py:991: in _send_handling_redirects
    response = self._send_single_request(request)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/httpx/_client.py:1027: in _send_single_request
    response = transport.handle_request(request)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/testclient.py:377: in handle_request
    raise exc
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/testclient.py:374: in handle_request
    portal.call(self.app, scope, receive, send)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/anyio/from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/concurrent/futures/_base.py:456: in result
    return self.__get_result()
/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/anyio/from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/applications.py:113: in __call__
    await self.middleware_stack(scope, receive, send)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/middleware/errors.py:187: in __call__
    raise exc
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/middleware/errors.py:165: in __call__
    await self.app(scope, receive, _send)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    raise exc
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/routing.py:715: in __call__
    await self.middleware_stack(scope, receive, send)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/routing.py:735: in app
    await route.handle(scope, receive, send)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/routing.py:288: in handle
    await self.app(scope, receive, send)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/routing.py:76: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    raise exc
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/starlette/routing.py:73: in app
    response = await f(request)
../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/fastapi/routing.py:327: in app
    content = await serialize_response(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    async def serialize_response(
        *,
        field: Optional[ModelField] = None,
        response_content: Any,
        include: Optional[IncEx] = None,
        exclude: Optional[IncEx] = None,
        by_alias: bool = True,
        exclude_unset: bool = False,
        exclude_defaults: bool = False,
        exclude_none: bool = False,
        is_coroutine: bool = True,
    ) -&gt; Any:
        if field:
            errors = []
            if not hasattr(field, "serialize"):
                # pydantic v1
                response_content = _prepare_response_content(
                    response_content,
                    exclude_unset=exclude_unset,
                    exclude_defaults=exclude_defaults,
                    exclude_none=exclude_none,
                )
            if is_coroutine:
                value, errors_ = field.validate(response_content, {}, loc=("response",))
            else:
                value, errors_ = await run_in_threadpool(
                    field.validate, response_content, {}, loc=("response",)
                )
            if isinstance(errors_, list):
                errors.extend(errors_)
            elif errors_:
                errors.append(errors_)
            if errors:
&gt;               raise ResponseValidationError(
                    errors=_normalize_errors(errors), body=response_content
                )
E               fastapi.exceptions.ResponseValidationError: 3 validation errors:
E                 {'type': 'get_attribute_error', 'loc': ('response', 'data', 'company'), 'msg': "Error extracting attribute: DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'company' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)", 'input': Vessel(dead_weight=2.0, time_zone_id=1, new_vessel=True, created_at=datetime.datetime(2025, 1, 11, 12, 38, 0, 333933), hull_clean_date='2024-12-06', id=1, engine_overhaul_date='2024-12-06', name='船名', newly_paint_date='2024-12-06', mmsi='1', propeller_polish_date='2024-12-06', build_date='2024-12-06', company_id=1, gross_tone=1.0, ship_type_id=1), 'ctx': {'error': "DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'company' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)"}}
E                 {'type': 'get_attribute_error', 'loc': ('response', 'data', 'ship_type'), 'msg': "Error extracting attribute: DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'ship_type' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)", 'input': Vessel(dead_weight=2.0, time_zone_id=1, new_vessel=True, created_at=datetime.datetime(2025, 1, 11, 12, 38, 0, 333933), hull_clean_date='2024-12-06', id=1, engine_overhaul_date='2024-12-06', name='船名', newly_paint_date='2024-12-06', mmsi='1', propeller_polish_date='2024-12-06', build_date='2024-12-06', company_id=1, gross_tone=1.0, ship_type_id=1), 'ctx': {'error': "DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'ship_type' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)"}}
E                 {'type': 'get_attribute_error', 'loc': ('response', 'data', 'time_zone'), 'msg': "Error extracting attribute: DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'time_zone' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)", 'input': Vessel(dead_weight=2.0, time_zone_id=1, new_vessel=True, created_at=datetime.datetime(2025, 1, 11, 12, 38, 0, 333933), hull_clean_date='2024-12-06', id=1, engine_overhaul_date='2024-12-06', name='船名', newly_paint_date='2024-12-06', mmsi='1', propeller_polish_date='2024-12-06', build_date='2024-12-06', company_id=1, gross_tone=1.0, ship_type_id=1), 'ctx': {'error': "DetachedInstanceError: Parent instance &lt;Vessel at 0x7f0af3d200f0&gt; is not bound to a Session; lazy load operation of attribute 'time_zone' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)"}}

../../../../.cache/pypoetry/virtualenvs/non-package-mode-NjsN46fl-py3.13/lib/python3.13/site-packages/fastapi/routing.py:176: ResponseValidationError</failure></testcase></testsuite></testsuites>